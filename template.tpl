___TERMS_OF_SERVICE___

By creating or modifying this file you agree to Google Tag Manager's Community
Template Gallery Developer Terms of Service available at
https://developers.google.com/tag-manager/gallery-tos (or such other URL as
Google may provide), as modified from time to time.


___INFO___

{
  "type": "TAG",
  "id": "cvt_temp_public_id",
  "version": 1,
  "securityGroups": [],
  "displayName": "Impresee",
  "brand": {
    "id": "brand_dummy",
    "displayName": "",
    "thumbnail": "data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAyAAAAMgCAYAAADbcAZoAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAVmJJREFUeNrs3Wt0Xdlh2PfN1zxAzBgz8ifJki+XH/piL4IflFTJkgaMHbuu1Q7o2KlcPwZIbMlKLJGs8/Ba/DCcJq3j1DJJy41kOwkxst0kjRRi2rjjJmuFl/7S2ktexMRZkpelhFeqky9KJVADajR8oWefey8BggB53/ecvX//tSAMgeGcOWeIe/dPe+9zQpAkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZIkSZKkcbXPJZCkdLp+JswXn+Y6v4yf53f8Lc/t8tsanY/Rtbnnd1qdj51d2fHrteJjvfPPWf+mXyh/LUkCEEnSBFGxHRRHt0FjOzqm3+ZY/znrHZx0//q1+8ACK5IEIJKkRwJjofOX3c/P7fh1fdqs1D+nua/9z+rOrjTj/zz999qfJUkAIkmpI6PR+ejOXiwkdZKbFfvnxDe5h/+zIkS6syit+AEnkgQgklQnZHSXSMWPb93213PJn3z98PGwusu84scXi3+n8q+f/sXy65IkAJGkqWCji4ujWUEjfXw87N9pO0xe66DEfhNJAhBJGjk2FnbBhvLCx8PaiZKmPxiSBCCS1Cs2usB4DjbgY4jaKGlvgF97+u+bKZEkAJEEG1t7Nha2gWPOlYGPMfxzusu3IkiaHZTYUyIJQCQpA3B0sbEQzG7Ax3TPba2DkRIlQCIJQCQpHXA83/nccFXgo8Ln1uqA5BUgkQQgklQvcJjhgI/an1vYPkOyWYDkfwYSSQAiSVVAR0TG4jZ0CD5SwMdu/9w2RkJYLTBiU7skAJGkCYFjbhs44mebxuEjB3zsLM6GrG4DidkRSQAiSSNER6ODje5eDsFHzvjYrWZo7x2JGGn5gysJQCSpf3TEpVUvdODRcEXgAz56LgIkzo68bKmWJACRpIejozvLYWkVfMDHaOou1XqlwMiqP9iSAEQSdEAHfMDH+P+5MCIJQCRBB3TAB3xMEB87j7OFkV+CEUkAIilNdMQ9HSehAz7gY+r42FkXIxcKjNgzIglAJNUaHY1t6Gi4IvABH5XDx85a2zDS8oMhCUAk1QEdcXZjKbTvYOVJ5PABH/XBx87ibMjLxcdKgRHPGZEEIJIqB4/FsHXbXMEHfNQbHztr39bXfhFJACJpyuhoBEus4AM+UsfH9kFDq4ORC09ZoiUJQCRNEB5LoT3bseBqwAd8ZIOPnTWLj5cLiKz4gZIEIJLGgY5GaM92RHy4ixV8wEfe+Nh+nLg/JCLkwlMfNSsiCUAkDQ+PxQ48FlwN+IAP+HjEccq9IgVE7BWRBCCS+kJH905WER4NVwQ+4AM++jxOq/i4UHysFBhxBy1JACJpT3hEbLzYwYfgAz7gYxTHWSk+XrI8SxKASNoOD8us4AM+4GMc+NheM7T3iVieJQGIpIzhsRTaMx4NVwM+4AM+xoiP7bVCe0ZkxQ+oBCCS8kBH3N9xKrRnPNzNCj7gAz4miY/txb0hcZ/IeftEJACRlCY8GsFtdOEDPuCjGvi4HyKbndv4/rJ9IhKASEoFHjaWwwd8wEcV8bHzOBEiL4GIBCCS6gmP+bA14yH4gA/4qDo+thchEmdE1vxQSwAiqfrwWAjtGY8FVwM+4AM+aoiP7TVDe0ak6QdcAhBJ4CH4gA/4mNT5gIgEIJLAQ/ABH/Ax8fMBEQlAJE0RHo3i07niY9HVgA/4gI8M8LG9+DDD0zarSwAiaXLwcFcrwQd85IqP7a0Ed82SAEQSeAg+4AM+JnwcEJEARNII4eHJ5YIP+ICPRxcfaNh+svo5T1aXAETSoPg4Cx6CD/iAj76OE/FxoUDIWS8YEoBI6h0eS6G93Krhagg+4AM+BjpOK8RlWefK5VmSAETSHvBYCG6pK/iAD/gY5XGaHYg0vZBIACJpCx6NYIO54AM+4GOcx1npQKTlRUUCEClneHQ3mL/oagg+4AM+JnKcl4KN6hKASJniYynY5yH4gA/4mMZxWsH+EAlApIzgMR/aTzBfcDUEH/ABH1M9TjPEJ6qfC2tedCQAkVKER1xuFWc8Trkagg/4gI9KHed8aM+IWJYlAYiUDD6WQnvWw/M8BB/wAR/VPE7Ex2nLsiQAkeoOj0bx6WKw3ErwAR/wUZfjNIuP5afOu1uWBCBSveDh7laCD/iAj3ofp323rPOWZUkAIlUfHwuhPevRcDUEH/ABH7U+Tiu0Z0OaXqgkAJGqCI846xH3eSy5GoIP+ICPpI6zEuL+ELMhEoBIFcLHYmjPethkLviAD/hI8zgRH3E2ZNWLlwQg0jTh0QjtWY9FV0PwAR/wkcVxIkBO26QuDd5+l0AaGB9xk/lV+BB8wAd8ZHWc+Jp/9fVTnukkjfw1TdKe8GgEt9YVfMAHfDiOW/ZKA2UGROoPH91ZD/gQfMAHfDhOfC8wGyKN6rVN0n3wiJvLL4GH4AM+4MNx9qhZHOPEUxfcKUt6VGZApEfjI673vQYfgg/4gA/Hecgx4nvEtddP2hcoDfwaJ4FHOesR93p4MxF8wAd8OE4/x4h3ylo2GyLtnhkQaXd8LAR3uBJ8wAd8OM5gxyjvlLVx0sy5BCBSb/iIz/W4XHw0XA3BB3zAh+MMcox97feQywVCznlBlHp8vZMyhMd8aC+5mnc1BB/wAR+OMwQ+drZWfCzPXig/S9lnBkRq42MptGc94EPwAR/w4TijxEfovLfE2ZAlL5KSGRCBh43mgg/4gA/HGSc+dlZuUJ+1QV0AImWJj/j/SMVnezRcDcEHfMCH40wAH91axccJS7KUa5ZgKVd8dJ9oDh+CD/iAD8eZJD5C570n3iXLE9SVZWZAlBs8LLkSfMAHfDjONPGxM0uyBCBSwviw5ErwAR/w4ThVwke3VnGcE7O/YkmW8sgSLOWCj6Xg2R6CD/iAD8epHj7iceJ70+WNj7hLlvLIDIhSh0dcchUfAuVFXfABH/DhOFXEx85Wio/Ts79iSZYARKojPhqhveTKsz0EH/ABH45TB3x0i0ux4pKslhddAYhUH3wsdPAx52oIPuADPhynRvjott5BSNOLr1LLHhCliI94W8PL8CH4gA/4cJya4iN03sPivhC36lVymQFRSvCw30PwAR/w4Tgp4GNnK8G+EAGIVDl8NIL9HoIP+IAPx0kPH93sCxGASBXCR0SHJVeCD/iAD8dJFR/d4gzIcc8LUd2zB0R1x8dS8ekqfAg+4AM+HCdxfITOe91VzwsRgEjTw0fc73HRlRB8wAd8OE4G+NjexQIh57xYq65ZgqU6wmOuA49FV0PwAR/w4TiZ4WN7q8XHss3pAhBp/PiI+z1sNhd8wAd8OE7O+OgeJ+4HOT77MQgRgEjjwIfN5oIP+IAPx4GPB4+z3kGIzemqRfaAqC74WIQPwQd8wIfjwMeux2k/tPDDliarHpkBUR3wsRRsNhd8wAd8OA589HKc5dmPlQ8ulCqbGRBVHR/udCX4gA/4cBz46P04Fzc+7A5ZqnZmQFRlfER4LLkSgg/4gA/HgY++j7My+7Gw7MVeACL1Bo+4lvVS8bHgagg+4AM+HAc+Bj5Os/g44Q5ZAhDp0fhwm13BB3zAh+PAx2iO4za9qlz2gKhK+GjAh+ADPuDDceBjpMcpb2G/8eHyPVaqRGZAVBV8eMaH4AM+4MNx4GNcx9nsPCvkVz0rRAAiwYfgAz7gw3HgY7z46AYhqkSWYGna+FiAD8EHfMCH48DH2PERQveBhT/rJi8CEOWLjyX4EHzAB3w4DnxMBB87EbLkTULTyhIsTRMfHjAo+IAP+HAc+JgcPna2PPurnpouABF8SPABH/DhOPAxuX8WhGjiWYIl+BB8wAd8QAF85ImP2MWNv245liabGRDBh+ADPuADCuAjT3xs/z3Ls/+LmRABiOBDgg/4gA/HgY/x4wNCBCCCDwk+4AM+HAc+JooPCBGACD4k+IAP+HAc+JgoPiBEACL4kOADPuADPuBjoviAEAGI4EOCD/iAD/iAj4niA0IEIIIPCT7gAz7gAz4mio/u71me/QcQIgARfAg+4AM+4AM+4GNyvwdCBCCCD8EHfMAHfMAHfEz090CIAETwIfiAD/iAD/iAj4n+HggRgAg+BB/wAR/wAR/wMdHfAyECEE0dHwvFp8uuhOADPuDDceAjeXx0O14gpOkNSoO23yXQEPiYLz5dciUEH/ABH44DH9ngI3Zp40PlGEAa7Wu11AM+4szHnKsh+IAP+HAc+MgGH93fsx7iTMjHw5o3LAGIJoGPRvHpKnwIPuADPhwHPrLER7eIkGMFQlreuNRPlmCpX3xEdFyCD8EHfMCH48BH1vgInbFAXI5lTKDRvG5Le+AjLruy7lPwAR/w4TjwkTc+theXYcXlWOveyNRLZkDUT5fgQ/ABH/DhOPABHztyUxoBiEbf9TPlcz4WXAnBB3zAh+PAB3zs0sLGhzwTTACi0eHjXPFpyZUQfMAHfDgOfMDHQ/7+pY2fKccM0mCv41IHHxEe/h8NwQd8wIfjwAd89Pr3L89+wtPSBSAaDB+LwZpOwQd8wIfjwAd89P/3nygQsurNTgCifvDhQYOCD/iAD8eBD/gY9O9vP6jwEx5UKABRb/iI6LgGH4IP+IAPx4EP+Bji748IOVIgxO15dV82oWs3fJj5EHzAB3w4DnzAx7B/fzmm2PgZYwoBiB5e3HDuWR+CD/iAD8eBD/gYxd8/H9zMRgCivercbnfRlRB8wAd8OA58wMcIj7G48UG359WYXhNUa3wsBf8PheADPuDDceADPsZ3jOXZX3N7XgGIwr07Xl11JQQf8AEfjgMf8DHmYxwrEOLOWACizPHR6ODDBjHBB3zAh+PAB3yM+xjrHYS0vFHmmz0geeMjouMSfAg+4AM+HAc+4GNCxyjHHhsfNPYAEOVa3BDmjleCD/iAD8eBD/iY5DHmO2MQAYhy6vqZcKr4tORKCD7gAz4cBz7gYwrHWNr4YDkWUYbZA5InPhZC+2GDEnzAB3w4DnzAxzT/vY7P/npoehMFEKWNj0aw6VzwAR/w4TjwAR/V+Pdqb0r/dZvSc8oSrLzwYdO54AM+4MNx4AM+qvTv1d6U/gFjEwBRqtl0LviAD/hwHPiAj6r9e9mUDiBKsc6TzpdcCcEHfMCH48AHfFTw32tp4wPGKblkD0ge+Ij/z0LcdG56U/ABH/DhOPABH1X991ov/r7js7/hSekAorrjI6IjbjpvuBqCD/iAD8eBD/io7L9X++9rhbgp/TfKzelKNEuw0u8ifAg+4AM+HAc+4KMG+AidMctFb7gAoprWedjgoish+IAP+HAc+ICPGuCj2+LGT3tIYcpZgpUuPuK+j6uuhOADPuDDceADPmqEj+3fOzb7D+0HARDVBR/2fQg+4AM+HAc+4KPO+Ii1QigRYj9IYlmClWb2fQg+4AM+HAc+4KPO+AjBfhAAUT3qPO/Dvg/BB3zAh+PAB3zUGR/dFjd+yvNBUssSrLTw4Xkfgg/4gA/HgQ/4SAUf3dbL/SD/qFySpQQyA5JWF+FD8AEf8OE48AEfCeEjfi+ObS55gwYQVazrZ8K54tO8KyH4gA/4cBz4gI+E8NFtfuOvlmMdJZAlWGngYyG0l15J8AEf8OE48AEfqeFje8dn/1FoetMGEE0XH265K/iAD/hwHPiAjxzwEWuV+0H+sVvz1jlLsOqfW+4KPuADPhwHPuAjB3zE7zWCW/MCiKbX9TPl7XbdclfwAR/w4TjwAR854KPb4sZfMf6pc5Zg1RcfcenVteCuV4IP+IAPx4EP+MgHH93iEqwjlmLVMzMg9e0SfAg+4AM+HAc+4CNDfITOGMiteQFEk+r6mXCq+LTgSgg+4AM+HAc+4CNDfHS/t7CxXI6JVLMswaofPhqhfdcrsx+CD/iAD8eBD/jIFR/d4hKsY7MXPSW9TpkBqV+edi74gA/4cBz4gA/4aDcX3BULQDS+LL0SfMAHfDgOfMAHfDyQpVg1yxKs+uCjESy9EnzAB3w4DnzAB3zs9r32UqwVS7HqkBmQ+nQOPgQf8AEfjgMf8AEfu35vrjNWEoBoFHngoOADPuDDceADPuDjkd9b3FgyXqpDlmBVHx8eOCj4gA/4cBz4gA/46O177QcUrnhAYZUzA1L9LL0SfMAHfDgOfMAHfPT2vbnie5ZiVTwzIBXu+pnyjleXXQnBB3zAh+PAB3zAR1/fOz77cmgaGACI+sNHnPWId71quBqCD/iAD8eBD/iAj76+1wrxrlgvW4pVxSzBqm6n4EPwAR/w4TjwAR/wMdD3Gp2xlCqYGZAK1nnmxzVXQvABH/DhOPABH/Ax1PeOzH7Ss0GqlhmQanbRJRB8wAd8OA58wAd8DP09YyoA0aO6fiYsFZ8WXAnBB3zAh+PAB3zAx9DfW9j4yXJspQplCVa18OGZH4IP+IAPx4EP+ICP0X6v/WyQT9qQXpXMgFSrF+FD8AEf8OE48AEf8DHS7811xliqSGZAKtL1M2E+tG+7K8EHfMAHfMAHfMDH6L93bPY3w5rBxPQzA1KdPLVT8AEf8AEf8AEf8DG+7xlrAYi62Xgu+IAP+HAc+IAP+Bjv94qfo4UbP2FDehWyBGv6+PDEc8EHfMAHfMAHfMDHePHRrVV8HDv8mzakTzMzINPPE88FH/ABH/ABH/ABH+PHRyjHXJuekD7tzIBMMU88F3zAB3zAB3zAB3xMDB/bv3fk8G95Qvq0MgMy3dwSTvABH/ABH/ABH/AxWXwYg005MyBT6vqZctP5ZVdC8AEf8AEf8AEf8DFRfHQ7fvi3QtPAY/KZAZle5C34gA/4gA/4gA/4mA4+jMUAJK/cdlfwAR/wAR/wAR/wMVV8xO8t3Pgxt+UFkHwibsEHfMAHfMAHfMDH9PBhTAYg+XT9TDgb3HZX8AEf8AEf8AEf8DFtfMQaN36sHJtpgtmEPll8xIcOxtvuzrkagg/4gA/4gA/4gI+p4qNbfCjhkcO/7eGEk8oMyGQ7BR+CD/iAD/iAD/iAj8rgI5RjMw8nnGhmQCZU56GDVwFE8AEf8AEf8AEf8FEZfHS/F2c/jh3+Xz2ccBKZAZlcL8KH4AM+4AM+4AM+4KNy+AidMZoN6RPKDMgE6sx+XHMlBB/wAR/wAR/wAR+Vw8f2jpgFGX9mQCYTUQs+4AM+4AM+4AM+qo0PY7YJZQZkzJn9EHzAB3zAB3zAB3zUAh/d7x05/E/MgowzMyDj75xLAB/wAR/wAR/wAR/wUQt8GLtNIDMgY+z6mbBQfLrsSsAHfMAHfMAHfMAHfNQCH92OH/4noWkgM57MgIw36wjhAz7gAz7gAz7gAz7qhQ9jOACpZ53ZjwVXAj7gAz7gAz7gAz7go1b4iC3ceL9xHIDUL3KGD/iAD/iAD/iAD/ioHz663zOWA5D6ZPYDPuADPuADPuADPuCj1viImQUBkFpFzPABH/ABH/ABH/ABH/XFhzHdGHMXrBF3/UyYLz5ddSXgAz7gAz7gAz7gAz5qjY9uRw7/U88FGWVmQEbfSZcAPuADPuADPuADPuAjCXzE75kFGXFmQEaYp57DB3zAB3zAB3zAB3wkhY9uRw7/M7Mgo8oMyGgjZPiAD/iAD/iAD/iAj7TwYYw34syAjCizH/ABH/ABH/ABH/ABH0nio5tZkBFlBmR02fsBH/ABH/ABH/ABH/CRJj6M9Sbxvqjeu34mzIX27MecqwEf8GFwCx/wAR/wAR/J4SN+bz3EWZD/rfysITIDMppOwQd8wAd8wAd8wAd8wEey+Aidsd4pAyIAqUqm5OADPuADPuADPuADPtLFhzEfgFSn62fCUjD7AR/wYXALH/ABH/ABH6njIzZ34y+XYz8ByFRzWzb4gA+DW/iAD/iAD/hIHx/GfgAy/a6fCYvFp4YrAR/wYXALH/ABH/ABH1ngI36vceNHyjGgAGQqWQcIH/BhcAsf8AEf8AEf+eDDGHCc75l6eB48CB/wYXALH/ABH/ABH1nio9uRw//cgwkHyQzI4Fn/Bx/wYXALH/ABH/ABH3niw1hwHO+d2rvOgwe/6krAB3zABxTAB3zAB3xkiY/YevG9I4c/5cGE/WYGZLCWXAL4gA/4gAL4gA/4gI9s8RG/N2dMCCCTzMYj+IAP+IAC+IAP+ICPfPFhTAggk8utd+EDPuADCuADPuADPuCjU+PGD7slL4CMvxdcAviAD/iAAviAD/iAj+zxYWw46vdTPZhb78IHfMAHFMAHfMAHfMDHLl8/cvjTbsnba2ZA+ss6P/iAD/iAAviAD/iAD/jY+XVjRAAZW0suAXzAB3xAAXzAB3zAB3zs+LoxIoCMvutnyj9Yc64EfMAHfEABfMAHfMAHfOxo7sYPQQiAjD4bjOADPuADCuADPuADPuBjr68ZKw77HqutbD6HD/iADyiAD/iAD/iAj4fgo9uRw//CZvRHZQakt2wsgg/4gA8ogA/4gA/4gI9Hfc2YEUBGlgfMwAd8wAcUwAd8wAd8wMfeX9ssP4wZAWT4PPkcPuADPqAAPuADPuADPh6Jj3aNGycgBECGz4Yi+IAP+IAC+IAP+IAP+HgUPowdh33fVTn7EW+7+1VXAj7gAz6gAD7gAz7gAz56wEf3a88cXg3rBma7Zwbk4S25BPABH/ABBfABH/ABH/DRBz6MIQFkqEyhwQd8wIfrBh/wAR/wAR/9/j3GkIO8B+eeZ3/AB3zABxTAB3zAB3zAxwD46Hbk8KpnguyWGZC9cx9n+IAP+HDd4AM+4AM+4KN/fLRvyWssCSB95xZq8AEf8OG6wQd8wAd8wEf/+DCWBJB+u34mzAfP/oAP+IAP1w0+4AM+4AM+BsNHrHHj+XJMKQDpKVNm8AEf8AEF8AEf8AEf8DEoPowpAaTvTJnBB3zABxTAB3zAB3zAx+D4aO8DMaYc92t5Cl0/U/5BueRKwAd8wEfq123fk3Nh/9vmw74n2p9j+992tPx6+ddvnb/3133/K72xHu7+x7Wtv/5Pr5V/Hb/W/V78DB/wAR/wkSw+tjpx+H8PqwZyWx10CR7oeZcAPuADPlK6bvufbYR9xceBb1u4B4z41+OsPMa3bzvGd+/+fwLe+ULzHlDufL7466+0wt3iAz7gAz7gIxF8dMeWADKu1/QUun4mfLX4NOdKwAd8wEcdr1t3ViMC48C3PzfULMbUfuQ7MyR3vnClDZS9ZkvgAz7gAz6qj4/4tfXD/0d4xoAOQPbCh+VX8AEf8FG763bwuxZLbLRnONK84UobJM02Sv5oNZ8/0/ABH/BRd3x0O1EgxCxI933LJbgvy6/gAz7go/LXbf8zjXCgQMfB735+7EupqlKEVfw49Nyp8tclRv7olXC7wMjmLku24AM+4AM+KoSP7hgTQB71fp1jll/BB3zAR1WvW1xKdehdLyQ9yzFo3dmR23/w8r2N7/ABH/ABHxXCR8wyLADZFR+WX8EHfMBHpa5b3DweZzoee8/JchO5evhP8ZVWuHXlwtbMCHzAB3zAx/Tx0f3aicP/0iwIgNwPkIvFpyVXAj7gAz6mfd0OvWspHOzMdmjwylmR33853P6DFfiAD/iAj2njI7ZSAGTZqzOAbAeI5VfwAR/wMbXzibMdh95zsoDHUu3uWlX5l5Y31kuE3Gpe6G2/CHzAB3zAx3i+tl4AxDIsALmHj7ig+qorAR/wAR+TPp84y3HovSfLO1lp/MU7aEWIxNkR+IAP+ICPKXzt2OHfCWu5vxa7C1a7F1wC+IAP+Jjk+cRlVhEecXO5JteB714sP+Jm9QiRgZdnwQd8wAd8DPa1OObMHiBmQEI5A3Kt+NRwJeADPuBj3OcT4fHY971oU3lVXoK+0go3X32pP4jAB3zAB3wM/rXW4d8JRwAEPuIo4Jq3YfiAD/gY5/mARyIQgQ/4gA/4GP5rRwqEtHJ+zd3vbSdYeA0f8AEfYzufuMfj8Jlr4fH3X4SPChf/2zz+YxfDzIvXwoFvX4AP+IAP+Bjn17IfewKIp5/DB3zAxxjOJ+7tePKvXS4/wKNeEHniw5fLj/se+Agf8AEf8DG6r2U/9sx6Cdb1M+Vtd7/qLRc+4AM+RnU+8Ra6jz9/rrydrupfXJJ189Ony1v5wgd8wAd8jPBrzxz+P8OIXljqV+4zIJZfwQd8wMfIzufQe0+FmTPX4COhDv6ZpfDk2Wvh0MIp+IAP+ICPUX4t6zFo7gB5ztsrfMAHfAx7nO5yqzjz4SGC6RX/mz72Q+fCEx/ZsSwLPuADPuBj8K9lPQbNfQmWp5/DB3zAx1DHeez7z5Z3t1I+3Xr1pXDz1bPwAR/wAR/DfG398Kv5PhU9W4B4+jl8wAd8DHOcOOvxxI9e9CDBTIsPMnzzt5bLz/ABH/ABHwN+7ViBkCwfSpjzEiz7P+ADPuBjoOPEWY+Zn7sKHxkXl2I9+bevhsd+4Cx8wAd8wMegX8t2LJozQOz/gA/4gI++jrP/2Ua518OSK3U79AMvlntDHrjVMnzAB3zAx6O/lu1YNMslWG6/Cx/wAR/9Hufgdy22HyZok7l2+yP0xnp487eXw51/uwof8AEf8NHP1545/Lv53Y431xmQBW+X8AEf8NHrceLdrZ5YvgQf2vvPcfFn44mfulTeLQs+4AM+4KOPr2U5Js0VIJZfwQd8wMcjjxMHlXHJVXy+h9RL8Xkh5ZKsXrEKH/ABHznjI9sxqRkQwQd8wMduL45vnQ8z//3VcODbvFyovw58x0J48uevhv3fMg8f8AEf8PGor2X5JpPdHhD7P+ADPuDjUcc59K6l8JiHCmrYP2ZvrIebnz4dbv/+CnzAB3zAx8O+9szh/yuvfSA5zoBkKU34gA/46BEf7z1ls7lG82e9+DP0+I9fLJdlwQd8wAd8PORr2Y1NcwTI894W4QM+4GO3nijgETecS6Pssb90roQIfMAHfMDHHl/LbmxqBkTwAR/w0cHHwXct+dnWWDr4Z5e2EAIf8AEf8HH/17Ibm2a1B8T+D/iAD/h44N+tc6crTzXXJLr7p2vhGxeOl/tD4AM+4AM+7tsH8q/y2QeS2wxIdsKED/iAD/hQhd50v2U+PHGyh9v0wgd8wEdO+MhujJobQDz/Az7gAz7gQ9VGCHzAB3zkho/sxqhmQAQf8AEfUlUQAh/wAR/54WMzZLcPJJs9IPZ/wAd8wAd8qGrdtycEPuADPvLEx1bPHP7XeewDyWkGxGgDPuADPuBD1XoT7s6EPDE3/p9d+IAP+KgyPrIaq+YEkAVvdfABH/niIwYfqixCTl2GD/iAj7zxkdVYNSeA2IAOH/CRMT7icz7gQ1VGyOM/cXE8P7vwAR/wUX18tPeBZDNWtQRL8AEfWeDDQwZV9Q7+F0uPRgh8wAd8pImPzMaqWQDk+pnyP+hcEHzAR3b4OPTeU/ChWiHk0PFT8AEf8JEfPmJzN743D4TkMgNi9gM+4CNHfBTwePz5c362Vase++FzJUTgAz7gIyt8ZDVmzQUg9n/AB3xkho+43+Mx+FCNERL3hcAHfMBHRvjIaB+IGRDBB3wkh4/ydrvLl/Z+0rRU8eKf3Sc+cKn/2/PCB3zAR33xkdGYFUDgAz7gIyl8xJ6I+Hi24edb9UbIWxrh8Z+5BB/wAR/54ANAUun6Gc//gA/4yAkfcc/HgW/zY680OvAdC+VyLPiAD/jIAh9lN74n/bFrDjMgZj/gAz4ywcfB71os73olpdShv3AqHDi6CB/wAR8Z4KOzDyT5sWsOADnq7Qs+4CN9fOx/thEef/9FP99Kssd/8mK5JAs+4AM+EsdHJmNXMyDwAR/wUXt8lAO0Ah82nSvV4p/tiBD4gA/4SB4fWYxdAQQ+4AM+ao+Px77/rH0fSr5yP8gPnoUP+ICPtPEBIHWv8wR0wQd8JIyP8nkf3/ein3Fl0aEffHHr+SDwAR/wkSI+yq/dOJ72GDb1GRAAgQ/4SBgfsSd+1L4P5dUDS7HgAz7gIyl85DCGTR0gNqDDB3wkjI+49CrOgEg5FWdAHnvfWfiAD/hIFx/Jj2HNgMAHfMBHLfFh6ZVyrqelWPABH/BRV3wkP4YFEPiAD/ioHT5ijy+eC1LOPfYj5+ADPuAjTXwk/yyQZAFy/UyI9+PM856c8AEfieMjPmzQXa+Uewe+c6F8SCF8wAd8JIeP2NyNhXTHsSnPgOQ5+wEf8JE4PuLzECy9kjoYf9+L9z//Bj7gAz5SwEfyY1kAgQ/4gI9anc/jz5/zwEFpO8i7S7HgAz7gIyV8AEhN+1b4gA/4SAsfceP5wXctGXVK2zr47qXxPhsEPuADPqb175HsWNYMCHzAB3zU5nxsPJd276Eb0uEDPuCjjvhIeiwLIPABH/BRi/OJm85tPJf2+Pn4zoXyAz7gAz6SwQeA1LT0F4nDB3xkgo/YE+/3xHPpYT3+wsXR/QzCB3zARxX+PdwFq05dPxMW4AM+4CMdfBx611LY92zDCFN62M/4WxrlfhD4gA/4SAIfZTfem+aYNtUZkLRHKvABHxnhI+a2u1KPPyvvexE+4AM+EsFH52tJjmkBBD7gAz4qfT5mP6Q+ft53mwWBD/iAjzqfK4DUqKPwAR/wUX98xMx+SH3+zGyfBYEP+ICPup9rkmPaVAGS3qYd+ICPDPFh9kMa4Ge/OwsCH/ABHymca5Ib0VMFyAJ8wAd81P98Dr33pNGkNMjPzl84OfzPKnzAB3xU4WtpjWkTBwh8wAd81Px84jM/4pPPJQ3w5v72+Uc/FwQ+4AM+6ncOAFLNkroFL3zAR6b4iJn9kIb8Gfqek/ABH/CRwLneeE96syBmQOADPuCjcuez/9lGOPhdi14HpCE6ML9Y7geBD/iAjwTOAUAqX/2VCB/wkTE+YofeY/ZDGsnP0s5ZEPiAD/io4znUf2ybAUDgAz7go8bnEzv4riWvBdIofpa2PxMEPuADPtI4LwCpZM/BB3zAR33xUd5698kk7zooTbx9M3OPviUvfMAHfFT9a8+FxDIDAh/wAR+Vum4H3/WC1wNplD9Tf+4F+IAP+EjhvACk0i3AB3zARz3xETefx9vvShpd8Xa8OWxGhw/4SPhck3tjNAMCH/ABH5W5bgfc+UoaSwfnF+EDPuAjpa8BSHW6fibU66ll8AEf8HFfj7n7lTSWDn3vSfiAD/io8ddu/PmQ1JN5U5sBqc/OVfiAD/i4/8XorfNh37MNI0VpDMUlWPHp6PABH/BR268ldXcWAIEP+ICPSly3QzafS2Pt4LvT2owOH/CR2bkCSIWr/vQUfMAHfOyazefSmH/G3rkAH/ABH3U9r01LsAQf8AEfo30heqYR9r9t3muENM6fs7fPP3g3LPiAD/io33kBSOU6Ch/wAR/1u27ufiVNpoPHFuEDPuCjnud1NCSUPSDwAR/wMfXjHPzu540MpQl0YP55+IAP+KjnedkDIviAD/gY5XHs/5AmBJC4DwQ+4AM+LLsCkJFWrUXk8AEf8PHI4xy0/EqaLEKOLcIHfMBH3c7LJvRKV53pKfiAD/jo6TgHvv05I0JpkgB553PwAR/wUb/zsgRL8AEf8DGq41h+JU0aIAvwAR/wUdfzApBqdf1MRaam4AM+4KPn4+x7cs7td6VJv/HH2/HOzMEHfMBHzc7rxrvTWYaV0gzI9Kem4AM+4KOv48CHND2EwAd8wEfNzmsznWVYlmDBB3zAx9SOY/mVNJ32fCo6fMAHfNTjvACkMk1PhfABH/Ax0HFsQJem9Ob/zufgAz7go37nZQakgk1nLQd8wAd8DHyc/W+1BEuaypv/2+fhAz7go37nZQ+I4AM+4GMofDzbKDehS5p8cRP6vm9uwAd8wEfdzwtA4AM+4AM+ej/OvmcbXkekaQ4A3tKAD/iAD/gAEPiAD/jI57rZgC5Nt3IjOnzAB3zAB4AM1WR2s8IHfMDHSI6z/21HjQClaQ4A3nEUPuADPup1XsncucUMCHzAB3xM5Tj2f0hTbmYOPuADPsx8AAh8wAd85HPdLMGSptuuzwKBD/iAj3qdF4DAB3zAB3z0eH3MfkiVaN/2WRD4gA/4gA8AgQ/4gI9Ur9v+t3n+h1SJQcA75uEDPuADPgBkiBrwAR/wUY/j7HvCDIhUieJsJHzAB3zU5bwaqbz0AAh8wAd8TPw4ZkCkanTgHfPwAR/wUZ/zApCkgw/4gI/pHkdSdd8H4QM+4KM65wUg8AEf8AEfPb7weAaIVI1BwNuPwgd8wAd8AAh8wAd8ZHDd3AVLqkY7nwUCH/ABH/ABIPABH/ARcjmOpOq+D8IHfMAHfAAIfMAHfNT5OPvfahO6VIlBwAhvwwsfBuTwMYVjAgh8wAd8wEeP19ASLKkSlQ8ihA/4gA/4ABD4gA/4CLkcR1I93yPhw4AcPuADQOADPuADPiTBB3zAB3wACHzAB3zAhyT4gA/4cF7DH9MeEPiAD/iAD8iR4AM+4MN5wQeAwAd8wIfjSIIP+IAP+AAQ+IAP+IAP4zupkgOBeCte+IAP+IAPAIEP+IAPx5E0ie5+cQ0+4AM+6oAPe0DgAz7gAwrgQ8rl/RM+DMjhAz4ABD7gAz4cRxJ8wAd8wAeAwAd8wAcUwIcEH/BhkO684CM/gMAHfMAHfEiCD/iAj5TwYQ8IfMAHfEABfEjwAR/w4bzgI3eAwAd8wAd8SIIP+IAP+AAQ+IAP+HCc+/7WN9YN+KQqvHV+fR0+4AM+4ANAkkAMfMAHfDy0u/9xzeuNVIHufmkNPgzI4aMu+LAHBD7gAz7gI70XRCnX4MOAHD7gA0DgAz7gI+njWIIlVaQb6/BhQA4f8AEg8AEf8JH+ce7+p9cM/KQKdPdLr8EHfMAHfAAIfMAHfDiOpIq9J8IHfDiv6ePDHpBK1oIP+ICPehzHJnSpGt3bhA4f8OG86oCPViqvPXkCBD7gAwqmehx7QKSKdGMdPuDDedUDHwBS6+ADPqBg6scxAyJVo7tfXIMP+HBell0BCHzAB3ykfxwzIFJF3ha/vg4f8OG86oIPe0DgAz7gAz6G684XmkZ/0hS7+7kmfMCH84IPAIEP+ICPfI5jFkSa8lvjbrMf8AEfzgs+AKSvrsAHfEBBfY7jWSDSdMvqGSDw4bzSwMcVAKlD8AEfUFDZ49z5fNMIUJomQLYvwYIP+HBeVceHPSDwAR/w4TjDHmPzKy0jQGmaAPlyCz7gw3nBB4DAB3zARx74KAc/BUDsA5Gm9Db59fWw+Z9b8AEfzgs+AGTI1uADPqCgHvjo5nkg0pQAEp//AR/w4bzqho9k3jRTAsg6fMAHFNQHH7E7X0hmP51Uq+587gp8wIfzqhc+2mNdAKlY8AEfUFArfLQB0jQSlKZQss8AgQ/nlSo+NoNN6BVtJCqED/iAj8kdY9MSLGk6APniGnwYpDuvOuFjhGNdABlh3/QLw6+Lgw/4gI/JHSP+94yb0O0DkSaPjwceQggfBunOq+r4CIf/nT0gyQUf8AEfk8VHN8uwpAkDZOfyK/gwSHdelcdHaqUGkIGmpuADPuBjOvhoA8RGdGmS3bcBHT4M0p1XPfCxGZK6b31qAOl7ago+4AM+poePcjD0R6tGhNIkAfKHq/BhkO686oWPgca4AFLR4AM+4GO6+Lg3ILIMS5pI95ZfwYdBuvOqEz4e+h4KINOv5+kp+IAP+KgGPkqA/NErRobSBLr9h6/Ah0G686onPizBqnCvwQd8QEG98FEOiizDkibSnc+swodBuvOqHz56HuMCSEWDD/iAj2rho/xHfKXldrzSmCtvv/vlFnwYpDuvuuEjsYcQpgiQNfiADyioFz662QcijRkgdX76OXw4r5zx0cMYF0Cm2zp8wAd81A8fsdt/8LIRojTGbv/ey/BhkO686omPh45xAaSiAIEP+ICPauMjFpdgxaVYksbwI/vlVrkECz4M0p1XLfEBIFXum37hwekp+IAP+Kg+PrrdunLBSFEaQ7d+9wJ8GKQ7r7rio/j1zGctwapN8AEf8FEffMTcDUsaT/cePggfBunwUTt8pFiKAGnCB3zAR/3wUR7iKy2b0aURFzef37v7FXwYpMNHHfGR3BtjcgDZBx/wAR+1xEf3OLd/32Z0aZTd23wOHwbp8FFHfCRZejMgm+EKfMAHfNQTH+Vg6Q9WwuYbSe21k6b3lvj19QIgK/BhkA4f9cbHldRem7J7ECF8wIfjVBcf3SJCJA3fHfgwSIePeuMjwYcQpgqQJnzAh+PUFx+xW013w5JG0a1XL8CHQTp81BkfoxjbAkjFgw/4cJyp46P8ctyM7o5Y0lDd+czq1uZz+DBIh4+64iPJkgPI039vQCXCB3w4TiXw0c0siDRct3/3AnwYpMNHAviY+WMzIGkGH/DhOJXCRyzejjc+HV1S/8Wnnt/5bBM+DNLhw8wHgEyw3qUIH/DhOJXDRzezINJg3d5t7wd8GKTDR/3wsZne7EfKAOntHp7wAR+OU1l8lIOoeEver7SMJqV+fsy+3Grfehc+DNLho+746H1MCyCV6DX4gA/HqTc+ut189SUjSqmPbn36JfgwSIePNPDR25gWQCpTCz7gw3Hqj4+YWRCpjx+1nbMf8GGQDh91xsejx7QAUhOAwAd8OE5t8NHNLIjUW/fNfsCHQTp81B0f8ddJAmRfSLSv/fwu/1nhAz4cp3b46Dbz4rWw79mGEaa014/bl1vhjZNH4MMgHT7SwUeY+ZM0x+op34Z3HT7gw3HSwEfszd9eNsKUHtLNX1uGD4N0+EgIHyHRDeipA2QNPuDDcdLARyw+FyR+SHqwu59rtp/7AR8G6fCRCj7uH8sCSM0AAh/w4Ti1x0e3m//itJGmtNvPxidPw4dBOnykhQ8AqWlfhA/4cJx08BGLT0aPd8WStNXtKyvhbmsNPgzS4SMtfMRffxFA6tbmiNQIH/ABH5W6Zjc/fTpsvpHsslipvx+7r6+HW588DR8G6fCRHj5iZkBq2PD/0eADPuCjctcs4uOW2/JKZbc+9VKJEPgwSIeP5PABIHXs6V8s7xww+P9NCh/wAR+VvWa3mudtSFf23f1sM9x+9Tx8GKTDR5r4WJ/5vLtg1bXB5Agf8AEflb9mcSmWlHM391p6BR/wAR91x8fgY1gAqSlA4AM+4KMW1yxuSLcUS7kWn3h+94tr8AEf8JEmPka3lxlAptJr8AEf8JEePrrdfPVsCREppyI8bn3qLHzAB3yki4/+x7AAUql6H5nAB3zARy2v2Zu/5QnpyqubH1+GD/iAj7Tx0d8YFkCq1dO/2ON/PPiAD/io7TWzFEs5tevSK/iAD/hIDR9h5gsAUvfW4AM+4CPtaxaXYrkrllIv3vXqgaVX8AEf8JEcPkLisx8AAh/wAR/JXLO4FMsDCpVq8Vkfb35iGT7gAz7Sx0fyG9BzAchr8AEf8JH+Ndv8Siu8+dv2gyjN4r6PzS+34AM+4CN9fOw9dgWQWrUGH/ABH3lcszv/drV8SKGUUvFhg3c+swof8AEfeeBj97FrYu0LGfS1v73tPyl8wAd8pHvNOv+sJz5yORz4jgUjV9W+uO/jG3/nOHzAB3zkg48w8+/TH5/nMAOyJUn4gA/4SB4fsTd/40S5JEuqc3HJ1ZsfPQEf8AEfGeEjZDD7kRdA4AM+4CMLfJS/fGM9fCMixKZ01RUfcdN5gY/4GT7gAz6ywUcWG9DzAchmuGJwCx/wkQc+ut3907Vw89OnjWRVy2598vTW8z7gAz7gIxd8xK6EDMprCZbBLXzARxb46Hb791cgRLXrZoGP21dW4AM+4CM/fIxnzFrBstiEHvva3wpfLT7NwQcUwEce+Nje4z9+MRz8s0tGtqp8ER43u8/7gA/4gI/c8LE+8x/CMzm81uUyAzI6UcIHFMBHrfARiw8pjLMhEnwYkMMHfFQUH6MbqwJIpRp+TR18QAF81A4f3d/z5m8ul/tCpCoW93vAB3zAR9b4GN+eZQCZak34gAL4yBMf3b5x4TiEqJL4ePN/OA4f8AEfeeNj+LEqgFSywUcd8AEF8FF7fJS/jLfnhRBVEB/l7XbhAz7gI2d8DDdWBZBq9vTfD+sD/YeFDyiAjyTwASGCDwNy+ICPKuNj5lrI5uFVOc2AxJrwAQXwkS8+IETwAR/OCz4qiI/+x6gAUqt639wDH1AAH0niA0IEH/DhvOCjgueYzQb0HAHSmy7hAwrgI2l83IeQ8xAi+IAP5wUfU/93boaMygognX0gLfiAAviAj+7viQh54xeOhdv/z4rRscZafM7HN37+GHzAB3zAx85ft2Za+ez/yA4gnZrwAQXwAR87f098TgiEaJz48JwP+IAP+Njj183cXhNzBMgr8AEF8AEfuxURcvNTp42WNdJufvI0fMAHfMDHw379CoCkXxM+oAA+4GOvbl0+X0IkLs2Shvoj/fX1Eh63Xz0PH/ABH/DxsH+HZm6vj/tChn3tb4Wrxad5+IAC+ICPvdr/LfPhiQ9cCvve0jCSVv9/1L7cCm9+9ES56Rw+4AM+4OMh/w5rM61wLLfXyBxnQLakCR9QAB/wsUfxzlhv/E/Hwp3PN42m1d+fnc82y83m8AEf8AEfPfzcZvkmkytArsAHFMAHfDzq95S36T13PNz6N+eNqtVTcbnVN/5O5za78AEf8AEfj/6Zzur5H2MZ/9Slr/3NMFd8+ip8wAd8wEevv+fA0cXw+E9eDPuenDPK1oN/ZOJ+j48vhzufWR0fMODDucJHaviIPZPbLXizBUgHIZeLTwvwAR/wAR89/3d7S6NEyIHvWAhSt7jk6s1PLJf7PuADPuADPvp4H2oW+Die4+tmrkuwYuOb8oIPx4GP5PBRfvv/a7WXZP3OS0bdKrv16ZfaS67gAz7gAz76w8d4x6IVL+cZkHgXrKvwAR/wAR+D/J54l6w4GxI/K7/iBvO45OreRnP4gA/4gI/+31OOzbTCGoDkh5C4D2R0C7rhw3HgIwt8bP/7H3vf2XDoB180Is+oOOtx61Nnxw8M+HCu8JEyPtYLfDyT6+tozkuwYqvw4TjwAR/D/P03/+XZ8Mb/eCzc+ZOmkXnidW+vCx8G6fABH0PiY7RjUACpXaNZewcfjgMfWeLj3sD0T9fKvSE3//lpT1BPsPIOV588Xe71eGDJFXzAB3zAx2DvKdnu/xj52KhujeR2vPDhOPCRNT4e+G/+5Fx47EfOhYPvXjJyT6DbV1bCrQIf957rAR/wAR/wMTw+YlnefhdAthAy+O144cNx4AM+9ihuTo8QOfCdC0H16+7nmuWsx93W2uSAAR/OFT5ywUe2t9+99x7pbSa8Ah+OAx/wMepj3P1/18I3fvl4+RFv36t6FG+n++bfPd5ebgUfBunwAR+jx8fgY8+EMgPyN0Oj+HQNPhwHPuBjnMeIS7Iee9+L5cMMVU14xLtb3f69lckDAz6cK3zkhI/YkZlWaAEIhESA9DYqgA/HgQ/4GOL3gEjF4QEfBunwAR/jxUerwMeR3F97LcFq19ut0ODDceADPob8Pbf/75Xw9TNHwpsvL5fLtDSdygcJfmI5vHHyCHwYpMMHfEwKH72PORPPDEjo8ano8OE48AEfY/g9cZP6oe85GQ7ML3oxnkB3PrMabv/uhXDns83pAgM+nCt85IiPWLZPPweQ3RGy91PR4cNx4AM+xvx74pKsCJG4RGvfzJwX5VH+Ef36erjzeyvh1qsXyiVXUwcGfDhX+MgVH1k//RxAdgfIxeLTEnw4DnzAx7R/T0TIwT/3glv4Dlm8le7t33u5vcSqKsCAD+cKH7niI7ZSAGTZqzOAbAdIXP9wCT4cBz7gY+q/p/vm/JZGODi/GA5970mb1nu9dHFTeVxi9YerW7Md8GGQDh/wMX18xE4UALEHBEAeQMjWMiz4cBz4gI8p4mNn+98+Hw6++4Vw4J0L5V9rq7ihvDvbEf+6ksCAD+cKH7njw/KrbR10Ce4rqnQJPhwHPuCjSvgoB9lfWgs3v9QeXJczI8cWw4H550uQZImOCI4/fKXcVF75fR3w4VzhI3d8dMeYGsdYqu6Vy7A2dyzDgg/4gA/4mDI+HvW9AxEj73wu6dmR7izHnc9dKZdX1QYY8OFc4QM+2ll+BSAPQcjfeMjdsOADPuADPiqGjwf+nM7MlQgpMVKgJP513e6qFe9atVmAI2IjoiPiI36tdsCAD+cKH/DRzvKrHVmC9WDtZVjwAR/wAR81w0d38H7nj5vlx70/v9/cCPvf0ihRsu+bv7X8dVWWbkVgxH/nu196rY2NL7fC5n9u1R8Y8OFc4QM+7h9bCkAe2ivDAgQ+4AM+4GMa+Njre3FAfyd+bENJ+Wc7zpa8Yz6EJ+fCgXe0l27tf/vREDozJvF7g86etFHR2RB+ow2MEhzxa/HXu81qpAIM+HCu8AEfD44tNa6xVSoNswwLPuADPuCjSviowvf2ZXzuBuTwAR/Z48Pyq13a7xLs2kBTZfABH/ABH/ABH/ABH/ABH8OOKQEkzy7AB3zAB3zAB3zAB3zAB3xMekyZQ5Zg7dHX/ka4VnxqwAd8wAd8wAd8wAd8wAd8DFBrphWOGFU/mBmQvetpygw+4AM+4AM+4AM+4AM+4GPQsSSAaHuPnDKDD/iAD/iAD/iAD/iAD/gYdCwJILqvp38ptIpPa/ABH/ABH/ABH/ABH/ABH322NtMqx5ICkL57GT7gAz7gAz7gAz6cK3zAxyjGkAKQXlqBD/iAD/iAD/iAD+cKH/Ax7BhSANJTT/9SiI/pXYUP+IAP+IAP+IAP5wof8NFjqzOtcgwpABm4l+EDPuADPuADPuADPuADPvoZO2pC47BUe32vZ4JAAXzAB3zAB3zAh/OCD/jYyrM/esgMSG+tQgF8wAd8wAd8GJDDB3zAR99jRgHIgF2AAviAD/iAD/gwIIcP+ICPvsaMApBBe6r9TJAmFMAHfMAHfMAHfDgv+ICPPWp69geAjLqXoQA+4AM+4AM+4MN5wQd87DlWVE/ZhN5Hr/9c+GrxaQ4K4AM+4AM+4AM+nBd8wMe21mda4Rmj5d4yA9JfK1AAH/ABH/ABH/DhvOADPiY6RgSQrBvfxiL4gA/4gA/4gA+DdPiAjzriY7xjRADJu6c+um0zOhTAB3zAB3zAB3w4L/iAj/aTz1tGygBSH+HCB3zAB3zAB3wYpMMHfNQVHzGbz/vMJvQBev3n9ngyOnzAB3zAB3zAh0G684KPnPDhyecDZAZksIafBYEP+IAP+IAP+DBIhw/4qDM+RjMmBBD12ErxsQ4F8AEf8AEf8GGQ7rzgI1t8rAd3vwKQSfXUR8s/cKvwAR/wAR/wAR8G6c4LPrLERyxuPl8PApAJ9hJ8wAd8wAd8wIdBuvOCjyzxMdhYUAAyTH3fkhc+4AM+4AM+4MMgHT7gIxV8NN16F0CmVW8bj+ADPuADPuADPgzS4QM+UsFH72NAjX8sl2OPvCUvfMAHfMAHfMCHQTp8wEdK+HDr3SEzAzJ8L8EHfMAHfMAHfBikOy/4yAIfDx/7qafMgIyg138ufLX4NAcf8AEf8AEf8GGQDh/wkTQ+1mda4Rmj3+EyAzKaLsAHfMAHfMAHfBikwwd8JI2PB8d8ApApdj50H0wIH/ABH/ABH/BhkA4f8JEiPtY7Yz4ByPQrH0y4GVbgAz7gAz7gAz4M0uEDPpLER2zFgwcBpGpNZkoOPuADPuADPuADPuADPtId6wGIeu2pXy4fRrMCH/ABH/ABH/BhkA4f8JEcPlY8eBBAqtr4bssGH/ABH/ABH/ABH/ABH+mN8QBEwzS2WRD4gA/4gA/4gA/4gA/4mFZmPwAkMyHDB3zAB3zAB3zAB3zARzpjOwHIqOvMgjThAz7gAz7gAz7gAz7go/b4aJr9AJB8pAwf8AEf8AEf8AEf8AEf9R/TCUAm0VO/XM6ANOEDPuADPuADPuADPuCjtkO6OPvRDAKQ5MUMH/ABH/ABH/ABH/ABH/UdywlAptVAsyDwAR/wAR/wAR/wAR/wUYXMfgBIBnKGD/iAD/iAD/iAD/iAj/qN4QQgVaozC7IKH/ABH/ABH/ABH/ABH7Vp1ewHgNS90/ABH/ABH/ABH/ABH/CRyNhNAFL1Hvp0dPiAD/iAD/iAD/iAD/ioUp56DiDJ9BJ8wAd8wAd8wAd8wAd81HDMJgCpYw/MgsAHfMAHfMAHfMAHfMBH1TL7ASDJFUW9Dh/wAR/wAR/wAR/wAR+Vaz2Y/QCQ1CpnQTbDBfiAD/iAD/iAD/iAD/ioXBfMfgBIqp3vCBs+4AM+4AM+4MO5wgd8VKP1zhhNAJJeT50r/4CPbxYEPuADPuADPgzSnRd8wEe/xdmP9aCJtc8lmHyvnw7Xik8N+IAP+IAP+DAghw/4gI+p1irwccTodLKZAZlOo93kBB/wAR/wAR8G6c4LPuBj+mMy9ZQZkCn1+ulwufi0AB/wAR/wAR8G5PABH/AxlZozrXDcqHTymQGps7jhAz7gAz7gwyDdecEHfExvLCYAqVNPnQvNsP3hhPABH/ABH/ABH84LPuBjUsWHDjaNSAEkxwaTN3zAB3zAB3wYpDsv+ICPyY/BBCB176lz5QNv+vsBgA/4gA/4gA+DdOcFH/AxFD48dBBAci8++Ka3HwL4gA/4gA/4MEh3XvABH8PUCh46CCC513k44aNnQeADPuADPuDDIN15wQd8DNtLHjo4/dyGtyI99La88AEf8AEf8GGQ7rzgAz6GzW13K5IZkOp0Gj7gAz7gAz7gw3nBB3xMeKwlAMm1p86FtbBzTSJ8wAd8wAd8GKQ7L/iAj1F0fqZVjrUEINpR3AuyDh/wAR/wAR8G6c4LPuBjZPW231YAkmOdDemn4QM+4AM+4MMg3XnBB3yMrNM2nlcrm9Ar2OunHrIhHT7gAz7gAz4M0uEDPuCj12w8r2BmQKrZMnzAB3zAB3wYpDsv+ICPCo+pBCAp9dT5AZ6QDh/wAR/wAR8G6fABH/CxPU88BxD1We9PSIcP+IAP+IAPg3T4gA/42F4reOI5gKi/njpfbpYazbQhfMAHfMAHfMAHfMBHXi3beA4gGgwhzeLTCnzAB3zAB3wYpMMHfMBHz60U+GgaSQKIBi8+tXMwwcMHfMAHfMAHfMAHfOTVevDEcwDRcA28FAs+4AM+4AM+4AM+4CO/LL0CEI0IIavFp1X4gA/4gA/4MEiHD/iAjz1bLfCxGgQgGlm9LcWCD/iAD/iAD/iAD/jIL0uvAESjrqdng8AHfMAHfMAHfMAHfOSZZ37UqH0uQb16/VS4XHxagA/4gA/4gA/4gA/4gI+yZoGP40aJ9ckMSP2KG9LX4QM+4AM+4AM+4AM+4GOEz00TgGj3HliKBR/wAR/wAR/wAR/wkW+WXtUwS7BqWrkUa3OXpVjwAR/wAR/wAR/wAR95ZOlVTTMDUtc2w4mwx12x4AM+4AM+4AM+4AM+Ei+OgU4YEAKIJthTF3Zf8wgf8AEf8AEf8AEf8JFBHjgIIJoSQu57QCF8wAd8wAd8wAd8wEcGeeAggGja/w9A8dGCD/iAD/iAD/iAD/jIoFZw1ysA0XSLS7H2jfIHET7gAz7gAz6cF3zAR3Wz9ApAVIVmL4Rm8ek8fMAHfMAHfMAHfMBHwp0v8NF0Geqf2/Am1MbJcLX4NA8f8AEf8AEf8AEf8JFYawU+jrkMaWQGJK32vDUvfMAHfMAHfMAHfMBHTXPLXQBRVZu9UG7MOg0f8AEf8AEfzhU+4COhTnvaeVpZgpVgGyfDpeLTInzAB3zAB3w4V/iAj5oXb7lr9iOxzICkWXlrXviAD/iAD/iAD/iAjxrXCm65m2RmQBJt42S5Gf0qfMAHfMCHATl8wAd81LRjM62w5jKklxmQRJu9UP7AnoYP+IAP+DAghw/4gI8adho+0s0MSOLdtx8EPuADPuADPpwXfMBH9bPvI/HMgKRfez8IfMAHfMAHfDgv+ICP6tcK9n0AiOrd7IWwXrywDfZ8EPiAD/iAD4N05wUf8DG5yud9zLQmMGYRgGjMCPmVPfaDwAd8wAd8wIfzgg/4qE72fQCIEkPISvFpBT7gAz7gAz6cF3zARwVbKfCx4jIAiBL8fxaKj9H+PwvwAR/wAR8G6fABH/AxXONfqaFK5S5YmbXxkdAI7eeDzMEHfMAHfBikOy/4gI8pF/d7xOd9tFyKfDIDklmzv1L+gA9/azv4gA/4gA+DdPiAD/gYvhPwASDKAyHNMMxUJ3zAB3zAh0E6fMAHfAxf3HTedBnyyxKsjNv4SLhYfFqCD/iAD/gwSHde8AEfEy5uOve8j0wzA5L5//MQ+tmUDh/wAR/wYZAOH/ABH8Nn03nmmQHJvJ43pcMHfMAHfBikwwd8wMfw2XQuAFGJkPkOQuADPuADPgzSnRd8wMc4O+Zhg7IES90npS/DB3zAB3wYpDsv+ICPMbYMHwIQbUfISvHpPHzAB3zAh0E6fMAHfIyh8550rj3fz5V3Gx8Jl4pPi/ABH/ABHwbp8AEf8DGiVgt8nHAZ1M0MiHa2XLyAjm56FD7gAz7gAz7gAz5ybu9l3so2MyB6oI0Pl3fEuhYedWcs+IAP+IAP+IAP+ICPvYt3vDoy0yo/S/cyA6IHmv1Y+UJxvPPCAR/wAR/wYZAOH/ABH4Pg4zh8CEDUD0IGnzKFD/iAD/iAD/iAj9xzxysBiAZCyGrfCIEP+IAP+IAP+IAP+GiVYwgJQDQQQlbCztvzwgd8wAd8wAd8wId2z+129chsQldPbXw4XCw+LcEHfMAHfMAHfMCH9milwIc7XglANFKEXC4+LcAHfMAHfMAHfMCHdtQs8HHcZVAvWYKlfooPEVqDD/iAD/iAD/iAD21rrTNGkHrKDIj6qvOMkDgTMg8f8AEf8AEf8AEf8BHcblcAogkgpFG8GF8N/T6oED7gAz7gAz7gAz5SKqLjWIGPlkuhfrIES303+7Hyhaa/BxXCB3zAB3zAB3zAR2r4OA4fGiQzIBq4jZ8N86G9HGsOPuADPuADPuADPrLDhwcNCkA0FYQsdBACH/ABH/ABH/ABH3kU8dF0GTRolmBpqGZ/tXwBWoYP+IAP+IAP+ICPLFqGDw2bGRCNpI2fLR9SeBE+4AM+4MO5wgd8JI2PFZdBAKLqIQQ+4AM+4AM+4AM+4EMCEE0EIX99x0wIfMAHfBiQwwd8wAd8SACiyiAEPuADPuDDecEHfMCHAESaCELgAz7gAz6cF3zAB3wIQKSJIAQ+4AM+4MN5wQd8wIcARJoIQuADPuADPpwXfMAHfAhApIkgBD7gAz7gw3nBB3zAhwBEmghCNvu8OxZ8wAd8GKQ7L/iAD/gQgEgDI+Sv9XmLXviAD/gwSHde8AEf8CEAkSaCEPiAD/gwSHde8AEf8CEAkSaCEPiAD/gwSHde8AEf8CEAkSaCEPiAD/gwSHde8AEf8CEAkSaCEPiAD/gwSHde8AEf8CEAkcaMkIXi06XijWIOPuADPgzSnRd8wMfYWy8+ThT4aLoUAhDli5APhfni0+XiozeEwAd8wIdBOnzAB3wMio/jBT7WXAoBiCCkV4TAB3zAh0E6fMAHfMCHat1+l0BVaPbj5QviseJjDT7gAz4M0uEDPuBjpJXvsfChqmQGRJVq40PlDEicCZmHD/iAD4N0+IAP+BgJPuLMx7pLoapkBkSVavbj7Sni4qMJH/ABHwbp8AEf8DFUTfhQFTMDosq28aFwsXhjWYIP+IAP+IAP+ICPvlsp4LHsMqiKmQFRZZv9ePnCeR4+4AM+4AM+4AM++uo8fKjKmQFR5dv4mT2emg4f8AEf8AEf8KGdecCgAEQaEUIWOwiZgw/4gA/4gA/40AOtd/Cx6lIIQKTRIWT3Z4XAB3zAB3zAB3zAh2d8CECkMSHk/tv0wgd8wAd8wAd85J3b7Kp22YSuWjX7iXu36V2FD/iAD/iAD/jIvFX4UB0zA6LatvHBcK74dAo+4AM+4AM+4CPD4p2uTrsMAhBp8ghZCqO8QxZ8wAd8OC/4gI/q505XAhBpygjZfXM6fMAHfDhX+ICPtLLZXElkD4hq3+yvlS/Ex0LY5QUZPuADPuADPuAjjcr3OvgQgEjVQUgrtDenr8AHfMCHc4UP+Eis+N4WZz5aLoVSyBIsJdfGB8Op4g3sHHzAB3zAB3zARwKdLuBx3mUQgEhVR8gHwkLx6VLYa18IfMAHfDgv+ICPahf3e5wo8NF0KQQgUn0Q0uggZB4+4AM+nBd8wEeNWuvgo+VSKMXsAVGyzf76LvtC4AM+4MN5wQd8VLv4nmW/h5LODIiyaOMD5fNCzhVvdNksyYIPA3L4gA/4qFVxydVpz/cQgEgpIeSny6VYcUlWAz7gAz6cF3zAR4VqhfaSK7fYVRZZgqVsmv2Ne88LWYUP+IAP5wUf8FGR4nuS53soq8yAKMs2fjqcCu0lWfABHwbpzgs+4GNaucWuAETKCiE/ldaSLPgwIIcP+ICP2tQKllwp4yzBUrbN/sN0lmTBhwE5fMAHfNSmlWDJlTLPDIgUytmQpVDTu2TBhwE5fMAHfNQid7mSAETagZC/Wr8HF8KHATl8wAd81CIPFpQARHooRM4Vn07BB3wYpMMHfMDHCDpfwOO0yyABiPQohCwUny4Wb54N+IAPg3T4gA/4GKBW8bFc4KPpXVUCEKk3hPyVcj/IxeJjET7gwyAdPuADPvpotYOPde+mEoBIg0BksQOROfiAD4N0+IAP+HhI6x14rHr3lABEGhYhER+XijfWBfiAD/iAD/iAj11qhvZGc7MeEoBII4TIcrk5/cUQdtyuFz7gAz7gAz5yLYLjJU80lwBEGidCGqG9JGsBPuADPuADPrLGRzO0l1y1vDtKACJNAiKnijfdB2dD4AM+4AM+4CP1zHpIACJNCSFL5WxIfG7IInzAB3zAB3xkUdxgftqshwQg0rQhsnWnLPiAD/iAD/hIMXe4kkbUfpdAGr7ZlfIN6UjxhrwCH/ABH/ABH8kVX9uPwIc0msyASCNu44XOU9TDtqeowwd8wAd8wEcdawVPM5dGnhkQacTNvly+UR0rPl6CD/iAD/iAj9oWX8OPwYc0+syASGNs4yd33LIXPuDDucIHfFS9CA631pUARKo9RJZC+25Zc/ABH/ABH/BRyeIm83h3qxXvWtJ4swRLmkCzn2xvYCw+zsOHATl8wAd8VK74PI8j8CFNJjMg0oTb+IkwX3w6t2/nsiz4gA/nBR/wMemaoT3rsebdSQIQKflu/ES5LCs+Sb0BH/DhvOADPiZaK7SfZL7i3UgCECk3hMQHF54q/vJk6O4PgQ/4cF7wAR/jLN7d6nyBj3XvQhKASPlC5MfLu2XF2ZAl+IAP5wUf8DGWVkJ71qPlXUcCEElbEFkoIbK5y2174cMg3XnBB3wMUrMDj6Z3GQlAJO0FkR/btj8EPgzSnRd8wMcgtYJ9HhKASOobImdDd38IfBikOy/4gI9eins7LhTwOOtdRAIQSYMhpP4b1eHDecEHfEwIHsEGcwlAJI0IIv9dTTeqw4fzgg/4GH8rwQZzCUAkjRkim9sgAh8G6fABH3niAzwkAJE0MYj8aAmRc8XHInwYpMMHfGSGj9XQfoI5eEgAImkKEFkI7aVZC/BhkA4f8JE4PprBLXUlAJFUEYi8fxtE4AM+4AM+0sIHeEgAIqk2EIEP+IAP+KgvPsBDAhBJNYJIoxhw3H/XLPiAD/iAj3q0EmwulwBEUk0h8t9O4Pa98OG84AM+wEMSgEjaBSInO7fvnYMP+IAP+KhI6x14XAAPCUAkpQiRv1zi48Enq8MHfMAHfEweHp5cLgGIpMwwshTaDzVswAd8wAd8TKhWaC+zWvEqLAGIpFwh8iPlwwzjjMgCfDhX+ICPMdUM7WVWq151JQCRpC5EGqG7YR0+4AM+4GP44tKqCA4byyUBiKSHQOSHy70hS6E9K9IwIIcP+ICPPovYiPs7VuzvkAQgkvrFSFye9UIxuFmED+cFH/DxiOJsx8uWWUkCEEnDQ+QvdW7jGzq38YUP5wUf8NHObXQlAYikMWPkh0qEvBC6m9bhw3nBR474aIb2bMeKV0VJACJpUhBphPbDDePyrIZBuvOCj+Tx0QrtZVZmOyQBiKQpY+REH3tFDNLhAz7qhg97OyQBiKSKQmTx3h204hKteYN05wUftcXHWkRHcCcrSQAiqUYYaRSDpbhxfWuJlkE6fMBHlfHRCpZYSQIQSUlg5PkwH7b2i8wZpMMHfFQGH+vb0LHm1UoSgEhKDyP/TYmQ5x/ACHzAB3xMCh9ddLxiX4ckAJGUF0b+6w5G4jKtzR0YgQ/4gI9R4gM6JAGIJN2Hkfdtw8huDzuED/iAD+iQBCCSNBaM/GC5Z+SFMMkN7PABH2ngoxW2bptrT4ckAJGkATDS6OwXibMjC/ABH/DxQM3i45UID3evkgQgkjRKjPxX5T6RuF/kuRBGdEct+ICP+uGju7TqSgcdntMhCUAkaSIg+YFyqVYXJAvwAR8J46O5DRyWVkkCEEmaOkb+y3I2JCLkuWIgFz/Pwwd81Bgfa9vQ0TTLIQlAJKnqIPn+eyCJzxyZvw8k8AEf1TvHVtjaywEckgBEkmoPku97yAwJfMDH5P+d2zMcm2Y4JAGIJOUBkr9YgmS+REl7D0n86zn4gI8x/Hq9BEcHG/GvZ64BhyQAkSQo+d7OUq0tkMzDB3wM8OuIjTjDcaXExn+waVySAESSekXJ95QzJBEiR++hBD7g40FsvFZi49+XMxySJACRpBGi5Pi92ZGjHZBsLd+Cj1Txsf4ANr5gZkOSAESSpoWShXt7SiJIvjVsLeEa/b4S+BgnPtrQaGPji92/nvm8PRuSBCCSVBecvLe861aj83G0RMnmjgcnwsek8dHsYCPOZrSKX7dm/sTyKUkCEElKHSfv6UBkCyTPdT4vwMdQ+Ohi4krna+WvZ/4YMiQJQCRJewPlz99bxjXX2WsSOxq2lnbdv/8kbXyUy6M6b17t2Yv237PW+fX6zGfty5AkAJEkTQYr7y73n3Qx0t6Tcv8g/rldBvaN8mNyT/tu7fL9Kw/cWSqCorMn4/C/gwpJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiRJkiQ9qv9fgAEAgCBgfvYuLCEAAAAASUVORK5CYII\u003d"
  },
  "description": "Use this template to integrate Impresee\u0027s search bar and event registrations services. You\u0027ll only need your Impresee application code and the event you want to measure.",
  "containerContexts": [
    "WEB"
  ]
}


___TEMPLATE_PARAMETERS___

[
  {
    "type": "CHECKBOX",
    "name": "isVtex",
    "checkboxText": "Is this a VTEX store?",
    "simpleValueType": true
  },
  {
    "type": "TEXT",
    "name": "impreseeApp",
    "displayName": "Impresee code",
    "simpleValueType": true,
    "valueHint": "1930ec6c-ebb7-4ed9-80aa-f6ce32e09d7a",
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  },
  {
    "type": "SELECT",
    "name": "event",
    "displayName": "Event",
    "macrosInSelect": false,
    "selectItems": [
      {
        "value": "CONVERSION",
        "displayValue": "Order placed"
      },
      {
        "value": "ADD_TO_CART",
        "displayValue": "Add to cart"
      },
      {
        "value": "VIEW_PRODUCT",
        "displayValue": "View product"
      },
      {
        "value": "INTEGRATION",
        "displayValue": "Integrate Impresee search bar"
      }
    ],
    "simpleValueType": true,
    "valueValidators": [
      {
        "type": "NON_EMPTY"
      }
    ]
  }
]


___SANDBOXED_JS_FOR_WEB_TEMPLATE___

/*
 * Copyright 2023 Impresee Inc.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *     http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
/**
 * 
 * Attempting to use undeclared variable Array in function getAddToCartDataFromEcommerce.
Offending section starting from token 'Array' at 55,26 to token 'Array' at 55,26.
 */

const log = require("logToConsole");
const addEventCallback = require("addEventCallback");
const copyFromWindow = require("copyFromWindow");
const copyFromDataLayer = require("copyFromDataLayer");
const injectScript = require("injectScript");
const encodeUriComponent = require("encodeUriComponent");
const getQueryParameters = require("getQueryParameters");
const sendPixel = require("sendPixel");
const event = data.event;
const appUuid = data.impreseeApp || copyFromWindow('_wssee_store_app_code');
const isVtex = data.isVtex;
const events = {
  orderPlaced: "CONVERSION",
  addToCart: "ADD_TO_CART",
  viewProduct: "VIEW_PRODUCT",
  integration: "INTEGRATION"
};
const errorData = "COULD_NOT_FIND_DATA";


function onObtainUserData(endpoint, data, userJson) {
  var userId = (userJson || {}).userId || '';
  var userEmail = (userJson || {}).user || '';
  data += '&cid=' + encodeUriComponent(userId); 
  data += '&cem=' + encodeUriComponent(userEmail); 
  sendPixel(endpoint + appUuid + '?' + data);
}
function getAddToCartDataFromEcommerce(ecommerce) {
  if (!ecommerce.add) return "";
  var addedProducts = ecommerce.add.products;
  var brand = [];
  var category = [];
  var id = [];
  var name = [];
  var qty = [];
  var variant = [];
  var price = [];
  for (var product_key in addedProducts) {
    var product = addedProducts[product_key];
    brand.push(product.brand);
    category.push(product.category);
    id.push(product.id);
    name.push(product.name);
    price.push(product.price);
    qty.push(product.quantity);
    variant.push(product.variant);
  }
  var data = '&sku=' + encodeUriComponent(variant.join('|'));
  data += '&p=' + encodeUriComponent(price.join('|'));
  data += '&pna=' + encodeUriComponent(name.join('|'));
  data += '&pca=' + encodeUriComponent(category.join('|'));
  data += '&pbr=' + encodeUriComponent(brand.join('|'));
  data += '&qty=' + encodeUriComponent(qty.join('|'));
  data += '&pid=' + encodeUriComponent(id.join('|'));
  return data;
}
function getAddToCartDataFromItems(items) {
  var brand = [];
  var category = [];
  var id = [];
  var name = [];
  var variant = [];
  var price = [];
  var qty = [];
  for (var product_key in items) {
    var product = items[product_key];
    brand.push(product.item_brand);
    category.push(product.item_category);
    id.push(product.item_id);
    name.push(product.item_name);
    price.push(product.price);
    variant.push(product.item_variant);
    qty.push(product.quantity);
  }
  var data ='&sku=' + encodeUriComponent(variant.join('|'));
  data += '&p=' + encodeUriComponent(price.join('|'));
  data += '&pna=' + encodeUriComponent(name.join('|'));
  data += '&pca=' + encodeUriComponent(category.join('|'));
  data += '&pbr=' + encodeUriComponent(brand.join('|'));
  data += '&qty=' + encodeUriComponent(qty.join('|'));
  data += '&pid=' + encodeUriComponent(id.join('|'));
  return data;
}
function getDataForAddToCart() {
  const ecommerce = copyFromDataLayer("ecommerce");
  const items = copyFromDataLayer("items");
  if (ecommerce) {
    return getAddToCartDataFromEcommerce(ecommerce);
  }
  else if (items) {
    // if there's no ecommerce variable we try with items
    return getAddToCartDataFromItems(items);

  }
  return "&err=" + errorData;
}
function getConversionDataFromEcommerce(addedProducts) {
  var brand = [];
  var category = [];
  var categoryTree = [];
  var ean= [];
  var id = [];
  var productRefId = [];
  var sellingPrice = [];
  var originalPrice = [];
  var name = [];
  var qty = [];
  var variant = [];
  var price = [];
  var sku = [];
  var skuRefId = [];
  var skuName = [];
  var slug = [];
  for (var product_key in addedProducts) {
    var product = addedProducts[product_key];
    brand.push(product.brand);
    category.push(product.category);
    id.push(product.id);
    name.push(product.name);
    price.push(product.price);
    qty.push(product.quantity);
    variant.push(product.variant || '');
    ean.push(product.ean || '');
    categoryTree.push(product.categoryTree.join(',') || '');
    originalPrice.push(product.originalPrice);
    productRefId.push(product.productRefId);
    sellingPrice.push(product.sellingPrice);
    sku.push(product.sku);
    skuRefId.push(product.skuRefId);
    skuName.push(product.skuName);
    slug.push(product.slug);
  }

  const transactionId = copyFromDataLayer("transactionId");
  const transactionShipping = copyFromDataLayer("transactionShipping");
  const transactionTotal = copyFromDataLayer("transactionTotal");
  const visitorAddressCountry = copyFromDataLayer("visitorAddressCountry");
  const visitorAddressCity = copyFromDataLayer("visitorAddressCity");
  const visitorAddressPostalCode = copyFromDataLayer("visitorAddressPostalCode");
  const visitorContactPhone = copyFromDataLayer("visitorContactPhone");
  const visitorContactInfo = copyFromDataLayer("visitorContactInfo");
  var data = '&sku=' + encodeUriComponent(sku.join('|'));
  data += '&p=' + encodeUriComponent(price.join('|'));
  data += '&pna=' + encodeUriComponent(name.join('|'));
  data += '&pca=' + encodeUriComponent(category.join('|'));
  data += '&pbr=' + encodeUriComponent(brand.join('|'));
  data += '&qty=' + encodeUriComponent(qty.join('|'));
  data += '&pid=' + encodeUriComponent(id.join('|'));
  data += '&var=' + encodeUriComponent(variant.join('|'));
  data += '&pean=' + encodeUriComponent(ean.join('|'));
  data += '&pcatree=' + encodeUriComponent(categoryTree.join('|'));
  data += '&op=' + encodeUriComponent(originalPrice.join('|'));
  data += '&prid=' + encodeUriComponent(productRefId.join('|'));
  data += '&sp=' + encodeUriComponent(sellingPrice.join('|'));
  data += '&skuref=' + encodeUriComponent(skuRefId.join('|'));
  data += '&skuna=' + encodeUriComponent(skuName.join('|'));
  data += '&slug=' + encodeUriComponent(slug.join('|'));
  data += '&tid='  + encodeUriComponent(transactionId);
  data += '&tsh='  + encodeUriComponent(transactionShipping);
  data += '&tto='  + encodeUriComponent(transactionTotal);
  data += '&cco=' + encodeUriComponent(visitorAddressCountry);
  data += '&cci=' + encodeUriComponent(visitorAddressCity);
  data += '&cpc=' + encodeUriComponent(visitorAddressPostalCode);
  data += '&cci=' + encodeUriComponent((visitorContactInfo || []).join('|'));
  data += '&cph=' + encodeUriComponent(visitorContactPhone);
  return data;
}
function getConversionFromItems(items) {
  var brand = [];
  var category = [];
  var id = [];
  var name = [];
  var variant = [];
  var price = [];
  var qty = [];
  for (var product_key in items) {
    var product = items[product_key];
    brand.push(product.item_brand);
    category.push(product.item_category);
    id.push(product.item_id);
    name.push(product.item_name);
    price.push(product.price);
    variant.push(product.item_variant);
    qty.push(product.quantity);
  }

  const transactionId = copyFromDataLayer("transaction_id");
  const total = copyFromDataLayer("value");
  const shipping = copyFromDataLayer("shipping");
  data += '&p=' + encodeUriComponent(price.join('|'));
  data += '&pna=' + encodeUriComponent(name.join('|'));
  data += '&pca=' + encodeUriComponent(category.join('|'));
  data += '&pbr=' + encodeUriComponent(brand.join('|'));
  data += '&qty=' + encodeUriComponent(qty.join('|'));
  data += '&pid=' + encodeUriComponent(id.join('|'));
  data += '&var=' + encodeUriComponent(variant.join('|'));
  data += '&tid='  + encodeUriComponent(transactionId);
  data += '&tsh='  + encodeUriComponent(shipping);
  data += '&tto='  + encodeUriComponent(total);
  return data;
}
function getDataForConversion() {
  var addedProducts = copyFromDataLayer("transactionProducts");
  var items = copyFromDataLayer("items");
  if (addedProducts) {
    getConversionDataFromEcommerce(addedProducts);
  } else if(items) {
    getConversionFromItems(items);
  }
  return "&err=" + errorData;
}
function getViewProductDataFromEcommerce(ecommerce){
  if (!ecommerce.detail) return "";
  var addedProducts = ecommerce.detail.products;
  var brand = [];
  var category = [];
  var id = [];
  var name = [];
  var variant = [];
  var price = [];
  for (var product_key in addedProducts) {
    var product = addedProducts[product_key];
    brand.push(product.brand);
    category.push(product.category);
    id.push(product.id);
    name.push(product.name);
    price.push(product.price);
    variant.push(product.variant);
  }
  var data ='&sku=' + encodeUriComponent(variant.join('|'));
  data += '&p=' + encodeUriComponent(price.join('|'));
  data += '&pna=' + encodeUriComponent(name.join('|'));
  data += '&pca=' + encodeUriComponent(category.join('|'));
  data += '&pbr=' + encodeUriComponent(brand.join('|'));
  data += '&pid=' + encodeUriComponent(id.join('|'));
  return data;
}
function getViewProductDataFromItems(items){
  var brand = [];
  var category = [];
  var id = [];
  var name = [];
  var variant = [];
  var price = [];
  for (var product_key in items) {
    var product = items[product_key];
    brand.push(product.item_brand);
    category.push(product.item_category);
    id.push(product.item_id);
    name.push(product.item_name);
    price.push(product.price);
    variant.push(product.item_variant);
  }
  var data ='&sku=' + encodeUriComponent(variant.join('|'));
  data += '&p=' + encodeUriComponent(price.join('|'));
  data += '&pna=' + encodeUriComponent(name.join('|'));
  data += '&pca=' + encodeUriComponent(category.join('|'));
  data += '&pbr=' + encodeUriComponent(brand.join('|'));
  data += '&pid=' + encodeUriComponent(id.join('|'));
  return data;
}
function getDataForViewProduct() {
  const ecommerce = copyFromDataLayer("ecommerce");
  const items = copyFromDataLayer("items");
  if (ecommerce) {
    return getViewProductDataFromEcommerce(ecommerce);
  }
  else if (items) {
    // if there's no ecommerce variable we try with items
    return getViewProductDataFromItems(items);

  }
  return "&err=" + errorData;
}

function sendData(action) {
    var endpoint =
    'https://api.impresee.com/ImpreseeSearch/api/v3/search/register_vtex/';
    var storeCode = copyFromWindow('_wssee_store_url') || '';
    var eventType = copyFromWindow('_wsee_event_type');
    var from_impresee_text = getQueryParameters('source_impresee') || "";
    var from_impresee_visual = getQueryParameters('seecd') || "";
    
    // ADD to cart data
    var data = 'store=' + encodeUriComponent(storeCode);
    data += '&a=' + encodeUriComponent(action);
    data += '&evt=' + encodeUriComponent(eventType);
    data += '&fi=' + encodeUriComponent(from_impresee_text);
    data += '&fiv=' + encodeUriComponent(from_impresee_visual);

    if (action === events.addToCart) {
      data += getDataForAddToCart();
    }
    else if (action === events.viewProduct) {
      data += getDataForViewProduct();
    }
    else if (action === events.orderPlaced) {
      data += getDataForConversion();
    }
    if (isVtex) {
      injectScript('https://cdn.impresee.com/analytics/vtex/getUserVtex.js', function(){
        const getImpreseeUserDataVtex = copyFromWindow('_wseeGetImpreseeUserDataVtex') || '';
        getImpreseeUserDataVtex(function(userJson) {
          onObtainUserData(endpoint, data, userJson);
        });
      }, function(){
        log("[ERROR] Error loading get user script");
        log("[WARN] Sending message without user data");
        sendPixel(endpoint + appUuid + '?' + data);
      });
    }
    else {
      sendPixel(endpoint + appUuid + '?' + data);
    }
}

function main() {
  if (event === events.integration) {
    injectScript('https://cdn.impresee.com/integrations/by-uuid/'+ appUuid +'.js',
      function() {
        log("[INFO] Loaded search bar");
      },
      function() {
        log("[ERROR] Error loading search bar script");
      });
  }
  else {
    addEventCallback((_ctid, _impreseeventData) => {
      sendData(event);
    });
  }
}

main();

data.gtmOnSuccess();


___WEB_PERMISSIONS___

[
  {
    "instance": {
      "key": {
        "publicId": "logging",
        "versionId": "1"
      },
      "param": [
        {
          "key": "environments",
          "value": {
            "type": 1,
            "string": "debug"
          }
        }
      ]
    },
    "clientAnnotations": {
      "isEditedByUser": true
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "access_globals",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_event_metadata",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "read_data_layer",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "send_pixel",
        "versionId": "1"
      },
      "param": [
        {
          "key": "allowedUrls",
          "value": {
            "type": 1,
            "string": "specific"
          }
        }
      ]
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "inject_script",
        "versionId": "1"
      },
      "param": []
    },
    "isRequired": true
  },
  {
    "instance": {
      "key": {
        "publicId": "get_url",
        "versionId": "1"
      },
      "param": [
        {
          "key": "urlParts",
          "value": {
            "type": 1,
            "string": "any"
          }
        },
        {
          "key": "queriesAllowed",
          "value": {
            "type": 1,
            "string": "any"
          }
        }
      ]
    },
    "isRequired": true
  }
]


___TESTS___

scenarios: []


___NOTES___

Created on 18/10/2023, 14:54:01


